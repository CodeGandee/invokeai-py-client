# Code Review: src/invokeai_py_client/utils.py

Scope
- Review [src/invokeai_py_client/utils.py](src/invokeai_py_client/utils.py:1) to determine if it should be removed from the codebase.

Summary of the file
- The module defines four classes, all as stubs raising NotImplementedError in every method:
  - [class AssetManager](src/invokeai_py_client/utils.py:26)
  - [class BoardManager](src/invokeai_py_client/utils.py:224)
  - [class TypeConverter](src/invokeai_py_client/utils.py:415)
  - [class ProgressTracker](src/invokeai_py_client/utils.py:537)
- The module imports client-domain types (Board, IvkField, IvkImage) but provides no implementation.

Repository usage scan (evidence)
- No active imports to these classes in the package. __init__ has commented-out exports:
  - [src/invokeai_py_client/__init__.py](src/invokeai_py_client/__init__.py:97)
- Search shows the class names only within this file and tooling caches (mypy), not in live code paths.

Intent vs current state
- The classes appear to be placeholders for future conveniences (asset transfers, board orchestration, type conversion helpers, progress reporting).
- Current project examples already solve their needs directly via repositories and handles:
  - Asset upload uses BoardRepository + BoardHandle (e.g., upload_image_data) rather than AssetManager abstractions.
  - Workflow conversion is implemented in [WorkflowHandle._convert_to_api_format()](src/invokeai_py_client/workflow/workflow_handle.py:1484) and the field plugin system, not via TypeConverter.
  - Progress in examples is printed or provided via callbacks; a generic ProgressTracker is currently unnecessary.

Impact of keeping the file
- Pros
  - Signals planned surface area and potential extension points.
  - Could serve as a scaffold for contributors if actively tracked on the roadmap.
- Cons
  - Dead code increases maintenance overhead and confusion (“is this implemented?”).
  - Not exported nor referenced; IDE auto-complete may still surface these types, misleading users.
  - Adds noise to static analysis (mypy caches) without value.

Risk of removal
- Low:
  - Not imported or re-exported in public API.
  - No downstream references in the repo’s current code paths.
  - Removal would not affect examples, tests, or packaging (based on current scan).

Recommendation
- Remove [src/invokeai_py_client/utils.py](src/invokeai_py_client/utils.py:1).
  - Rationale: It is a non-functional placeholder with no internal references. Removing it reduces confusion and surface area until there is a concrete design and implementation plan.

Optional alternatives (if you want to preserve the design intent)
- Replace the file with a short design doc (markdown) under context/design explaining the intended utilities and their proposed APIs, rather than shipping NotImplemented stubs in src/.
- If you prefer to keep code-level contracts for future extensions, refactor to abstract base classes (ABCs) or Protocols in a separate internal module (e.g., src/invokeai_py_client/_contracts.py) and do not expose them publicly. Add a clear module docstring stating they are not part of the public API yet.
- If you plan to implement soon, add a clear @deprecated or an “Experimental” module-level banner in the docstring with a target milestone, and keep it out of __all__ to avoid accidental import by users.

If removal is approved, follow-up tasks (suggested)
- Clean up the commented export lines in [src/invokeai_py_client/__init__.py](src/invokeai_py_client/__init__.py:97) (keep them as comments or remove entirely for clarity).
- Ensure the README and examples do not reference these utilities.
- Consider adding a roadmap note for future utilities if they are still desired.

Decision
- Remove the utils.py module now to avoid dead-code ambiguity. Re-introduce well-scoped utilities later with complete implementations and tests.

Appendix: class summaries
- [class AssetManager](src/invokeai_py_client/utils.py:26)
  - Upload/download single/batch, format validation, progress callbacks (all NotImplemented).
- [class BoardManager](src/invokeai_py_client/utils.py:224)
  - Convenience board ops: create/find/archive/move/copy/merge/export (all NotImplemented).
- [class TypeConverter](src/invokeai_py_client/utils.py:415)
  - Field/workflow API↔client conversions and validation (all NotImplemented).
- [class ProgressTracker](src/invokeai_py_client/utils.py:537)
  - Total/unit/description, update/set_progress/get_progress/get_stats/reset/complete (all NotImplemented).